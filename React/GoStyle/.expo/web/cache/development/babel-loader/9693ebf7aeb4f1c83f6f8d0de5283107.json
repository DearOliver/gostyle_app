{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\Romain\\\\Documents\\\\EPSI 3e ANN\\xC9E\\\\MSPR\\\\GoStyle\\\\React\\\\GoStyle\\\\screens\\\\ProfilePage.js\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport * as React from 'react';\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport { withSafeAreaInsets } from 'react-native-safe-area-context';\nimport { Text, View, ScrollView } from \"../components/Themed\";\nimport { useState } from \"react\";\nimport * as APICustomer from \"../functions/back/customer.js\";\nimport * as API from \"../functions/back/utils.js\";\nexport default function ProfilePage() {\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      isFetch = _useState2[0],\n      setIsFetch = _useState2[1];\n\n  var _useState3 = useState({\n    isOk: false,\n    customer: 'Unknown'\n  }),\n      _useState4 = _slicedToArray(_useState3, 2),\n      customer = _useState4[0],\n      setCustomer = _useState4[1];\n\n  var checkUser = function checkUser() {\n    APICustomer.getCustomerById(API.ID_CUSTOMER).then(function _callee(r) {\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              console.log(r);\n\n              if (!r) {\n                _context.next = 4;\n                break;\n              }\n\n              _context.next = 4;\n              return _regeneratorRuntime.awrap(setCustomer({\n                isOk: true,\n                customer: r\n              }));\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    });\n  };\n\n  if (customer.isOk === false) {\n    checkUser();\n    console.log(customer);\n  }\n\n  console.log(customer);\n  return React.createElement(SafeAreaView, {\n    style: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 9\n    }\n  }, React.createElement(ScrollView, {\n    style: styles.scroll,\n    lightColor: true,\n    lightColor: \"#eee\",\n    darkColor: \"rgba(255,255,255,0.1)\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 13\n    }\n  }, React.createElement(View, {\n    style: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 17\n    }\n  }, React.createElement(View, {\n    lightColor: true,\n    style: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 21\n    }\n  }, React.createElement(Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 25\n    }\n  }, \"Profil\"), customer.isOk ? React.createElement(View, {\n    style: styles.card,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 25\n    }\n  }, React.createElement(Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 25\n    }\n  }, \"Nom: \", customer.customer.last_name), React.createElement(Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 25\n    }\n  }, \"Prenom: \", customer.customer.first_name)) : React.createElement(Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 30\n    }\n  }, \"Not found\"), customer.isOk ? React.createElement(View, {\n    style: styles.card,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 29\n    }\n  }, React.createElement(Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 33\n    }\n  }, \"Date de naissance: \", customer.customer.birth_date), React.createElement(Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 33\n    }\n  }, \"Date d'inscription: \", customer.customer.creation_date)) : null, customer.isOk ? React.createElement(View, {\n    style: styles.card,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 29\n    }\n  }, React.createElement(Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 33\n    }\n  }, \"mail: \", customer.customer.mail), React.createElement(Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 33\n    }\n  }, \"mots de passe: \", customer.customer.password)) : null))));\n}\nvar styles = StyleSheet.create({\n  scroll: {\n    display: 'flex',\n    flex: 1,\n    width: '100%'\n  },\n  container: {\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'center',\n    width: '100%',\n    marginTop: 10\n  },\n  card: {\n    flex: 1,\n    alignItems: 'flex-start',\n    padding: 20,\n    justifyContent: 'center',\n    backgroundColor: '#FFFFFF',\n    width: '90%',\n    height: 100,\n    borderBottomWidth: 7,\n    borderBottomColor: \"#4355d4\",\n    marginVertical: 15,\n    borderRadius: 3,\n    shadowColor: '#000000',\n    shadowOffset: {\n      width: 1,\n      height: 0\n    },\n    shadowOpacity: 0.2\n  }\n});","map":{"version":3,"sources":["C:/Users/Romain/Documents/EPSI 3e ANNÃ‰E/MSPR/GoStyle/React/GoStyle/screens/ProfilePage.js"],"names":["React","withSafeAreaInsets","Text","View","ScrollView","useState","APICustomer","API","ProfilePage","isFetch","setIsFetch","isOk","customer","setCustomer","checkUser","getCustomerById","ID_CUSTOMER","then","r","console","log","styles","container","scroll","card","last_name","first_name","birth_date","creation_date","mail","password","StyleSheet","create","display","flex","width","alignItems","justifyContent","marginTop","padding","backgroundColor","height","borderBottomWidth","borderBottomColor","marginVertical","borderRadius","shadowColor","shadowOffset","shadowOpacity"],"mappings":"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","sourcesContent":["import * as React from 'react';\r\nimport {SafeAreaView, StyleSheet} from 'react-native';\r\nimport {withSafeAreaInsets} from 'react-native-safe-area-context';\r\n\r\nimport {Text, View, ScrollView} from '../components/Themed';\r\nimport {useState} from \"react\";\r\nimport * as APICustomer from '../functions/back/customer.js'\r\nimport * as API from '../functions/back/utils.js'\r\n\r\n\r\nexport default function ProfilePage() {\r\n    const [isFetch, setIsFetch] = useState(false);\r\n    const [customer, setCustomer] = useState({\r\n        isOk: false,\r\n        customer: 'Unknown'\r\n    });\r\n\r\n    const checkUser = () => {\r\n        APICustomer.getCustomerById(API.ID_CUSTOMER)\r\n            .then(async r => {\r\n                console.log(r)\r\n                if (r) {\r\n                    await setCustomer({isOk: true, customer: r})\r\n                }\r\n            })\r\n    }\r\n    if (customer.isOk === false) {\r\n        checkUser()\r\n        console.log(customer)\r\n    }\r\n    console.log(customer)\r\n\r\n    return (\r\n        <SafeAreaView style={styles.container}>\r\n            <ScrollView style={styles.scroll} lightColor={true} lightColor=\"#eee\" darkColor=\"rgba(255,255,255,0.1)\">\r\n                <View style={styles.container}>\r\n                    <View lightColor={true} style={styles.container}>\r\n                        <Text>Profil</Text>\r\n                        {customer.isOk ? (\r\n                        <View style={styles.card}>\r\n                        <Text>Nom: {customer.customer.last_name}</Text>\r\n                        <Text>Prenom: {customer.customer.first_name}</Text>\r\n                        </View>\r\n                        ) : (<Text>Not found</Text>)\r\n                        }\r\n                        {customer.isOk ? (\r\n                            <View style={styles.card}>\r\n                                <Text>Date de naissance: {customer.customer.birth_date}</Text>\r\n                                <Text>Date d'inscription: {customer.customer.creation_date}</Text>\r\n                            </View>\r\n                        ):null}\r\n                        {customer.isOk ? (\r\n                            <View style={styles.card}>\r\n                                {/*todo cacher le password*/}\r\n                                <Text>mail: {customer.customer.mail}</Text>\r\n                                <Text>mots de passe: {customer.customer.password}</Text>\r\n                            </View>\r\n                        ):null}\r\n                    </View>\r\n                </View>\r\n            </ScrollView>\r\n        </SafeAreaView>\r\n    );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n    scroll: {\r\n        display: 'flex',\r\n        flex: 1,\r\n        width: '100%',\r\n    },\r\n    container: {\r\n        flex: 1,\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        width: '100%',\r\n        marginTop:10\r\n    },\r\n    card: {\r\n        flex: 1,\r\n        alignItems: 'flex-start',\r\n        padding: 20,\r\n        justifyContent: 'center',\r\n        backgroundColor: '#FFFFFF',\r\n        width: '90%',\r\n        height: 100,\r\n        borderBottomWidth: 7,\r\n        borderBottomColor: \"#4355d4\",\r\n        marginVertical: 15,\r\n        borderRadius: 3,\r\n        shadowColor: '#000000',\r\n        shadowOffset: {\r\n            width: 1,\r\n            height: 0\r\n        },\r\n        shadowOpacity: 0.2\r\n    },\r\n});"]},"metadata":{},"sourceType":"module"}