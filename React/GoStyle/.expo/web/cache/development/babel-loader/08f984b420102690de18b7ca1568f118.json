{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\Romain\\\\Documents\\\\EPSI 3e ANN\\xC9E\\\\MSPR\\\\GoStyle\\\\React\\\\GoStyle\\\\screens\\\\MyList.js\";\nimport * as React from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport { ScrollView, Text, View } from \"../components/Themed\";\nimport CouponCardPerime from \"../components/CouponCardPerime\";\nimport Coupon_Card_User from \"../components/Coupon_Card_User\";\nimport { useState } from \"react\";\nexport default function MyList() {\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      isFetch = _useState2[0],\n      setIsFetch = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      tableau = _useState4[0],\n      setTableau = _useState4[1];\n\n  if (tableau.length <= 0) {\n    fetch('http://192.168.1.42:5000/customer/B7B41975-8CA0-A33E-E21E-CB880E099BB0/coupons').then(function (r) {\n      return r.json();\n    }).then(function (response) {\n      setIsFetch(true);\n      setTableau(response);\n      return;\n    });\n  }\n\n  console.log(tableau);\n  return React.createElement(ScrollView, {\n    lightColor: true,\n    lightColor: \"#eee\",\n    darkColor: \"rgba(255,255,255,0.1)\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 9\n    }\n  }, React.createElement(View, {\n    style: styles.titleContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 13\n    }\n  }, React.createElement(Text, {\n    style: styles.title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 17\n    }\n  }, \"Coupons\")), isFetch ? tableau.map(function (x) {\n    console.log('datenow: ', Date.now(), '| end_date: ', Date.parse(x.end_date));\n\n    if (Date.parse(x.end_date) >= Date.now()) {\n      return React.createElement(Coupon_Card_User, {\n        key: x.id,\n        coupon: x,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 36\n        }\n      });\n    }\n  }) : React.createElement(Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 23\n    }\n  }, \" Aucun coupons \"), React.createElement(View, {\n    style: styles.separator,\n    lightColor: \"#eee\",\n    darkColor: \"rgba(255,255,255,0.1)\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }\n  }), React.createElement(View, {\n    style: styles.titleContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }\n  }, React.createElement(Text, {\n    style: styles.title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 17\n    }\n  }, \"Coupons pr\\xE9c\\xE9dents\")), isFetch ? tableau.map(function (x) {\n    if (Date.parse(x.end_date) < Date.now()) {\n      return React.createElement(CouponCardPerime, {\n        key: x.id,\n        coupon: x,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 36\n        }\n      });\n    }\n  }) : React.createElement(Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 23\n    }\n  }, \" Aucun coupons \"), React.createElement(View, {\n    style: styles.separator,\n    lightColor: \"#eee\",\n    darkColor: \"rgba(255,255,255,0.1)\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }\n  }));\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  titleContainer: {\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'center',\n    height: 50,\n    margin: 30\n  },\n  title: {\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'center',\n    fontSize: 20,\n    fontWeight: 'bold'\n  },\n  separator: {\n    marginVertical: 30,\n    height: 2,\n    width: '100%'\n  }\n});","map":{"version":3,"sources":["C:/Users/Romain/Documents/EPSI 3e ANNÉE/MSPR/GoStyle/React/GoStyle/screens/MyList.js"],"names":["React","ScrollView","Text","View","CouponCardPerime","Coupon_Card_User","useState","MyList","isFetch","setIsFetch","tableau","setTableau","length","fetch","then","r","json","response","console","log","styles","titleContainer","title","map","x","Date","now","parse","end_date","id","separator","StyleSheet","create","container","flex","alignItems","justifyContent","height","margin","fontSize","fontWeight","marginVertical","width"],"mappings":"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","sourcesContent":["import * as React from 'react';\r\nimport {StyleSheet} from 'react-native';\r\n\r\nimport {ScrollView, Text, View} from '../components/Themed';\r\nimport CouponCardPerime from \"../components/CouponCardPerime\";\r\nimport Coupon_Card_User from \"../components/Coupon_Card_User\";\r\nimport {useState} from \"react\";\r\n\r\n\r\nexport default function MyList() {\r\n\r\n    let [isFetch, setIsFetch] = useState(false);\r\n    let [tableau, setTableau] = useState([]);\r\n\r\n\r\n    if (tableau.length <= 0) {\r\n\r\n        fetch('http://192.168.1.42:5000/customer/B7B41975-8CA0-A33E-E21E-CB880E099BB0/coupons')\r\n            .then(\r\n                r => r.json()\r\n            )\r\n            .then(\r\n                function (response) {\r\n                    setIsFetch(true);\r\n                    setTableau(response);\r\n                    return;\r\n                }\r\n            );\r\n    }\r\n    console.log(tableau)\r\n\r\n\r\n    return (\r\n        <ScrollView lightColor={true} lightColor=\"#eee\" darkColor=\"rgba(255,255,255,0.1)\">\r\n            <View style={styles.titleContainer}>\r\n                <Text style={styles.title}>Coupons</Text>\r\n            </View>\r\n            {isFetch ? (\r\n                tableau.map(function (x) {\r\n                    console.log('datenow: ',Date.now(),'| end_date: ',Date.parse(x.end_date))\r\n                        if (Date.parse(x.end_date) >= Date.now()) {\r\n                            return <Coupon_Card_User key={x.id} coupon={x}/>\r\n                        }\r\n                    }\r\n                )) : (<Text> Aucun coupons </Text>)}\r\n            <View style={styles.separator} lightColor=\"#eee\" darkColor=\"rgba(255,255,255,0.1)\"/>\r\n            <View style={styles.titleContainer}>\r\n                <Text style={styles.title}>Coupons précédents</Text>\r\n            </View>\r\n            {isFetch ? (\r\n                tableau.map(function (x) {\r\n                        if (Date.parse(x.end_date) < Date.now()) {\r\n                            return <CouponCardPerime key={x.id} coupon={x}/>\r\n                        }\r\n                    }\r\n                )) : (<Text> Aucun coupons </Text>)}\r\n            <View style={styles.separator} lightColor=\"#eee\" darkColor=\"rgba(255,255,255,0.1)\"/>\r\n        </ScrollView>\r\n    );\r\n}\r\n\r\nconst styles = StyleSheet.create(\r\n    {\r\n        container: {\r\n            flex: 1,\r\n            alignItems: 'center',\r\n            justifyContent: 'center',\r\n        }\r\n        ,\r\n        titleContainer: {\r\n            flex: 1,\r\n            alignItems: 'center',\r\n            justifyContent: 'center',\r\n            height: 50,\r\n            margin: 30\r\n        }\r\n        ,\r\n        title: {\r\n            flex: 1,\r\n            alignItems: 'center',\r\n            justifyContent: 'center',\r\n            fontSize: 20,\r\n            fontWeight: 'bold',\r\n        }\r\n        ,\r\n        separator: {\r\n            marginVertical: 30,\r\n            height: 2,\r\n            width: '100%',\r\n        }\r\n        ,\r\n    }\r\n    )\r\n;\r\n"]},"metadata":{},"sourceType":"module"}